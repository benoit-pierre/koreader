antiword_lib = static_library(
  'antiword',
  [
    'asc85enc.c',
    'blocklist.c',
    'chartrans.c',
    'datalist.c',
    'depot.c',
    'dib2eps.c',
    'doclist.c',
    'fail.c',
    'finddata.c',
    'findtext.c',
    'fontlist.c',
    'fonts.c',
    'fonts_u.c',
    'hdrftrlist.c',
    'imgexam.c',
    'listlist.c',
    'misc.c',
    'notes.c',
    'options.c',
    'out2window.c',
    'pdf.c',
    'pictlist.c',
    'prop0.c',
    'prop2.c',
    'prop6.c',
    'prop8.c',
    'properties.c',
    'propmod.c',
    'rowlist.c',
    'sectlist.c',
    'stylelist.c',
    'stylesheet.c',
    'summary.c',
    'tabstop.c',
    'unix.c',
    'utf8.c',
    'word2text.c',
    'worddos.c',
    'wordlib.c',
    'wordmac.c',
    'wordole.c',
    'wordwin.c',
    'xmalloc.c',
  ],
  c_args: '-DCR3_ANTIWORD_PATCH=1',
  gnu_symbol_visibility: 'hidden',
)

antiword_dep = declare_dependency(
  compile_args: '-DCR3_ANTIWORD_PATCH=1',
  link_with: antiword_lib,
  include_directories: '.',
)
